import{g as J,a as ae,b as Z,N as W,f as ie,_ as te,c as oe,u as de}from"./_plugin-vue_export-helper-DyRF7Wcn.js";import{a as G,u as ce,b as ne}from"./vendor-primevue-2Ru-362p.js";import{Q as X,c as n,d as l,s as $,e,t as m,z as D,q as Q,h as H,y as L,F,E as k,G as ue,v as j,L as E,p as B,x as pe,r as q,l as se,S as re,o as me}from"./vendor-vue-DX0NukY0.js";const ge={class:"text-center space-y-4"},fe={key:0,class:"space-y-2"},xe={key:1,class:"text-4xl font-bold text-gray-900"},be={key:2,class:"space-y-2"},he={key:3,class:"text-lg text-gray-600 max-w-2xl mx-auto"},ve={class:"flex justify-end gap-4 flex-wrap"},ye={__name:"HeaderView",props:{loading:{type:Boolean,default:!1},databaseTitle:{type:String,default:""},databaseDescription:{type:String,default:""}},emits:["refreshSchema"],setup(i,{emit:d}){const u=X(),c=d,p=()=>{c("refreshSchema")},x=()=>{u.push("/add")};return(b,f)=>{const I=G;return l(),n("div",ge,[i.loading&&!i.databaseTitle?(l(),n("div",fe,f[0]||(f[0]=[e("div",{class:"h-12 bg-gray-200 rounded-lg animate-pulse mx-auto",style:{width:"300px"}},null,-1)]))):(l(),n("h1",xe,m(i.databaseTitle),1)),i.loading&&!i.databaseDescription?(l(),n("div",be,f[1]||(f[1]=[e("div",{class:"h-6 bg-gray-200 rounded-lg animate-pulse mx-auto",style:{width:"500px"}},null,-1),e("div",{class:"h-6 bg-gray-200 rounded-lg animate-pulse mx-auto",style:{width:"400px"}},null,-1)]))):i.databaseDescription?(l(),n("p",he,m(i.databaseDescription),1)):$("",!0),e("div",ve,[D(I,{onClick:p,disabled:i.loading,severity:"secondary"},{default:Q(()=>f[2]||(f[2]=[e("i",{class:"pi pi-refresh"},null,-1),H("Refresh ",-1)])),_:1,__:[2]},8,["disabled"]),D(I,{onClick:x,severity:"primary"},{default:Q(()=>f[3]||(f[3]=[e("i",{class:"pi pi-plus"},null,-1),H("Add ",-1)])),_:1,__:[3]})])])}}},_e={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3"},we={class:"flex-1"},$e={class:"text-red-700"},Fe={__name:"ErrorDisplay",props:{error:{type:String,default:""}},emits:["retry"],setup(i){return(d,u)=>{const c=G;return i.error?(l(),n("div",_e,[u[2]||(u[2]=e("i",{class:"pi pi-exclamation-triangle text-red-500 text-xl"},null,-1)),e("div",we,[u[1]||(u[1]=e("strong",{class:"text-red-800"},"Error:",-1)),e("span",$e,m(i.error),1),D(c,{onClick:d.retry,severity:"danger",text:""},{default:Q(()=>u[0]||(u[0]=[H(" Try Again ",-1)])),_:1,__:[0]},8,["onClick"])])])):$("",!0)}}},ke={class:"text-center"},Ce={key:0},Le={key:1},je={__name:"LoadMoreButton",props:{loading:{type:Boolean,default:!1}},emits:["load-more"],setup(i){return(d,u)=>{const c=G;return l(),n("div",ke,[D(c,{onClick:u[0]||(u[0]=p=>d.$emit("load-more")),disabled:i.loading,severity:"secondary"},{default:Q(()=>[i.loading?(l(),n("span",Ce,"Loading...")):(l(),n("span",Le,"Load More"))]),_:1},8,["disabled"])])}}},Se={class:"text-gray-800 leading-relaxed"},Oe={__name:"RichTextField",props:{value:{type:[Object,String],required:!0}},setup(i){const d=i,u=L(()=>Array.isArray(d.value)?d.value:d.value&&typeof d.value=="object"?d.value.rich_text||d.value.title||[]:typeof d.value=="string"?[{text:{content:d.value},annotations:{}}]:[]),c=p=>{if(!p)return{};const x={};return p.italic&&(x.fontStyle="italic"),p.underline&&(x.textDecoration="underline"),p.strikethrough&&(x.textDecoration="line-through"),p.code&&(x.fontFamily="monospace",x.backgroundColor="#f3f4f6",x.padding="2px 4px",x.borderRadius="4px"),x};return(p,x)=>(l(),n("div",Se,[(l(!0),n(F,null,k(u.value,(b,f)=>(l(),n("span",{key:f,class:j(b.annotations?.bold?"font-semibold":""),style:ue(c(b.annotations))},m(b.text?.content||b.plain_text||""),7))),128))]))}},Ie={class:"grid grid-cols-2 gap-4"},Ne={key:0,class:"flex items-center space-x-2"},Ae={class:"text-gray-800"},De={key:1,class:"flex items-center space-x-2"},ze={class:"text-gray-800"},Ve={__name:"ContactField",props:{value:{type:[Object,String],required:!0}},setup(i){return(d,u)=>(l(),n("div",Ie,[typeof i.value=="string"||i.value?.email?(l(),n("div",Ne,[u[0]||(u[0]=e("i",{class:"pi pi-envelope text-blue-500"},null,-1)),e("span",Ae,m(typeof i.value=="string"?i.value:i.value.email),1)])):$("",!0),typeof i.value=="string"||i.value?.phone?(l(),n("div",De,[u[1]||(u[1]=e("i",{class:"pi pi-phone text-green-500"},null,-1)),e("span",ze,m(typeof i.value=="string"?i.value:i.value.phone),1)])):$("",!0)]))}},Be={class:"space-y-3"},qe={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Me={class:"text-sm font-medium text-gray-700"},Te={class:"flex items-center space-x-2"},Re={class:"text-gray-800 font-mono font-medium"},Ue={key:0,class:"text-lg text-gray-600 font-medium"},Ee={__name:"NumbersField",props:{value:{type:Object,required:!0},schema:{type:Object,default:null},formatLabel:{type:Function,required:!0},formatNumber:{type:Function,required:!0},getSchemaProperty:{type:Function,required:!0},getFieldCurrencySymbol:{type:Function,required:!0}},setup(i){return(d,u)=>(l(),n("div",Be,[e("div",qe,[(l(!0),n(F,null,k(i.value,(c,p)=>(l(),n("div",{key:p,class:"flex items-center justify-start bg-gray-50 rounded-lg gap-2 p-2"},[e("i",{class:j([E(J)(p,i.getSchemaProperty(p)),"text-blue-500"])},null,2),e("span",Me,m(i.formatLabel(p)),1),e("div",Te,[e("span",Re,m(i.formatNumber(c||0,p)),1),i.getFieldCurrencySymbol(p)?(l(),n("span",Ue,m(i.getFieldCurrencySymbol(p)),1)):$("",!0)])]))),128))])]))}},Pe={class:"flex items-center space-x-2"},He=["href"],Qe={__name:"UrlField",props:{value:{type:[Object,String],required:!0}},setup(i){const d=u=>{try{const c=new URL(u);return c.hostname+c.pathname}catch{return u}};return(u,c)=>(l(),n("div",Pe,[c[0]||(c[0]=e("i",{class:"pi pi-link text-purple-500"},null,-1)),e("a",{href:typeof i.value=="string"?i.value:i.value.url,target:"_blank",rel:"noopener noreferrer",class:"text-purple-600 hover:text-purple-800 underline truncate max-w-xs"},m(d(typeof i.value=="string"?i.value:i.value.url)),9,He)]))}},Ge={class:"flex items-center space-x-2"},Je={class:"text-gray-800"},We={__name:"DateField",props:{value:{type:[Object,String],required:!0}},setup(i){const d=u=>u?new Date(u).toLocaleDateString():"";return(u,c)=>(l(),n("div",Ge,[c[0]||(c[0]=e("i",{class:"pi pi-calendar text-indigo-500"},null,-1)),e("span",Je,m(d(typeof i.value=="string"?i.value:i.value.date?.start||i.value.date)),1)]))}},Ke={class:"flex flex-wrap gap-2"},Xe={__name:"SelectField",props:{value:{type:[Object,Array],required:!0},fieldName:{type:String,required:!0},schema:{type:Object,default:null}},setup(i){const d=i,u=L(()=>({name:d.fieldName,options:p(d.fieldName,d.schema)})),c=L(()=>typeof d.value=="string"&&d.value.trim()?[{value:d.value,label:d.value,name:d.value}]:Array.isArray(d.value)&&d.value.length>0?d.value.map(x=>({value:x,label:x,name:x})):ae(d.value)),p=(x,b)=>!b||!b.properties||!b.properties[x]?[]:b.properties[x].options||[];return(x,b)=>(l(),n("div",Ke,[(l(!0),n(F,null,k(c.value,f=>(l(),n("span",{key:f.value||f,class:j([E(Z)(f,u.value,i.schema),"px-3 py-1.5 text-sm rounded-full border font-medium"])},m(f.label||f),3))),128))]))}},Ye={class:"flex items-center gap-2"},Ze={key:0,class:"flex items-center gap-1 bg-green-500 text-white px-2 py-1 rounded-full text-sm"},et={class:"font-medium"},tt={key:1,class:"flex items-center gap-1 bg-gray-200 text-gray-600 px-2 py-1 rounded-full text-sm"},st={class:"font-medium"},ee={__name:"BooleanField",props:{value:{type:Boolean,required:!0},fieldName:{type:String,required:!0},formatLabel:{type:Function,required:!0}},setup(i){return(d,u)=>(l(),n("div",Ye,[i.value?(l(),n("div",Ze,[u[0]||(u[0]=e("i",{class:"pi pi-check-circle"},null,-1)),e("span",et,m(i.formatLabel(i.fieldName)),1)])):(l(),n("div",tt,[u[1]||(u[1]=e("i",{class:"pi pi-times-circle"},null,-1)),e("span",st,m(i.formatLabel(i.fieldName)),1)]))]))}},rt={class:"text-gray-800 leading-relaxed"},le={__name:"TextField",props:{value:{type:[String,Number],required:!0}},setup(i){return(d,u)=>(l(),n("div",rt,m(i.value),1))}};function lt(i="primary",d="small",u=!1){return{buttonPT:L(()=>({root:{class:[it(d),nt(i),"rounded-lg flex items-center justify-center","transition-all duration-300 hover:scale-105 hover:-translate-y-0.5","shadow-lg hover:shadow-xl","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed","!border-0"]},icon:{class:u?"m-0":"mr-2"},label:{class:"font-medium"}}))}}function it(i){const d={small:"px-3 py-1.5 text-sm",large:"px-6 py-3 text-lg",default:"px-4 py-2"};return d[i]||d.default}function nt(i){const d={primary:"!bg-blue-600 !hover:bg-blue-700 !text-white focus:ring-blue-500 hover:shadow-[0_20px_40px_rgba(37,99,235,0.3),0_0_20px_rgba(37,99,235,0.2)]",secondary:"!bg-gray-200 !hover:bg-gray-300 !text-gray-700 hover:text-gray-800 border border-gray-300 focus:ring-gray-500 hover:shadow-[0_20px_40px_rgba(107,114,128,0.3),0_0_20px_rgba(107,114,128,0.2)]",danger:"!bg-red-600 !hover:bg-red-700 !text-white focus:ring-red-500 hover:shadow-[0_20px_40px_rgba(239,68,68,0.3),0_0_20px_rgba(239,68,68,0.2)]",success:"!bg-green-600 !hover:bg-green-700 !text-white focus:ring-green-500 hover:shadow-[0_20px_40px_#22c55e4d,0_0_20px_#22c55e33]",warning:"!bg-amber-600 !hover:bg-amber-700 !text-white focus:ring-amber-500 hover:shadow-[0_20px_40px_rgba(217,119,6,0.3),0_0_20px_rgba(217,119,6,0.2)]",info:"!bg-cyan-600 !hover:bg-cyan-700 !text-white focus:ring-cyan-500 hover:shadow-[0_20px_40px_rgba(6,182,212,0.3),0_0_20px_rgba(6,182,212,0.2)]"};return d[i]||d.primary}const K={__name:"IconButton",props:{icon:{type:String,required:!0},severity:{type:String,default:"primary"},size:{type:String,default:"small"}},emits:["click"],setup(i,{emit:d}){const u=i,{buttonPT:c}=lt(u.severity,u.size,!0),p=d,x=()=>{p("click")};return(b,f)=>{const I=G;return l(),B(I,{pt:E(c),icon:i.icon,onClick:x},null,8,["pt","icon"])}}},at={key:0,class:"bg-white hover:shadow-lg text-gray-900 transition-shadow p-4 rounded-lg shadow-lg flex flex-col h-full relative"},ot={class:"relative z-10"},dt={class:"flex justify-end items-start mb-3"},ct={class:"flex gap-2"},ut={key:0,class:"mb-4 flex md:flex-row flex-col gap-2"},pt={class:"flex justify-center mb-4"},mt={class:"text-2xl font-bold text-gray-900"},gt={key:0,class:"mb-2"},ft={class:"flex flex-wrap gap-2"},xt={key:1,class:"mb-4"},bt={class:"grid grid-cols-1 sm:grid-cols-2 gap-1"},ht={class:"flex items-center space-x-1"},vt={class:"flex items-center space-x-1"},yt=["title"],_t={key:2,class:"mb-4"},wt={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},$t={class:"flex items-center space-x-1"},Ft=["title"],kt={class:"flex items-center space-x-1"},Ct={class:"text-gray-800 font-mono font-medium"},Lt={key:3,class:"mb-4"},jt={class:"gap-3"},St={class:"flex items-center justify-between"},Ot={class:"flex items-center space-x-2"},It=["title"],Nt={class:"text-gray-800 font-mono font-medium text-lg"},At={key:4,class:"mb-4"},Dt={class:"gap-3"},zt={class:"flex items-center space-x-2"},Vt=["title"],Bt={class:"flex items-center space-x-2"},qt=["href","title"],Mt={class:"space-y-3 flex-1"},Tt={key:0,class:"text-sm font-medium text-gray-700 mb-2"},Rt={key:0,class:"mr-2 text-base"},Ut=["title"],Et={class:"text-xs text-gray-500 mt-auto pt-2 border-t border-gray-100 flex flex-row justify-end"},Pt={key:0},Ht={__name:"CardView",props:{item:{type:Object,required:!0},schema:{type:Object,default:null},loading:{type:Boolean,default:!1},editRoute:{type:String,default:"/edit"},itemIdField:{type:String,default:"id"}},emits:["deleteItem"],setup(i,{emit:d}){const u=X(),c=ce(),p=i,x=d,b=L(()=>{if(!p.schema?.properties||!p.item)return{titleFields:[],contactFields:[],booleanFields:[],currencyNumberFields:[],regularNumberFields:[],urlFields:[],otherFields:[]};const g=p.schema.properties,s=p.item,t={titleFields:[],contactFields:[],booleanFields:[],currencyNumberFields:[],regularNumberFields:[],urlFields:[],otherFields:[]};return Object.entries(g).forEach(([r,a])=>{const C=s[r];if(!(!C&&a.type!=="checkbox"&&a.type!=="select"&&a.type!=="multi_select"))switch(a.type){case"title":t.titleFields.push([r,C]);break;case"checkbox":t.booleanFields.push([r,C||!1]);break;case"number":a.number?.format&&a.number.format!=="number"?t.currencyNumberFields.push([r,C||0]):t.regularNumberFields.push([r,C||0]);break;case"url":t.urlFields.push([r,C]);break;case"select":case"multi_select":t.otherFields.push([r,a]);break;default:r.toLowerCase().includes("email")||r.toLowerCase().includes("phone")||r.toLowerCase().includes("contact")||a.type==="email"||a.type==="phone"?t.contactFields.push([r,C]):a.type!=="title"&&a.type!=="number"&&a.type!=="checkbox"&&a.type!=="url"&&t.otherFields.push([r,a])}}),t}),f=L(()=>b.value.titleFields),I=L(()=>b.value.contactFields),M=L(()=>b.value.booleanFields),z=L(()=>b.value.currencyNumberFields),V=L(()=>b.value.regularNumberFields),N=L(()=>b.value.urlFields),T=L(()=>b.value.otherFields),R=L(()=>{if(!p.schema?.properties)return{};const g={};return Object.entries(p.schema.properties).forEach(([s,t])=>{switch(t.type){case"rich_text":g[s]=Oe;break;case"url":g[s]=Qe;break;case"date":g[s]=We;break;case"select":case"multi_select":g[s]=Xe;break;case"checkbox":g[s]=ee;break;default:g[s]=le}}),g}),P=g=>g==="contact"?Ve:g==="numbers"?Ee:R.value[g]||le,y=g=>g!=="contact"&&g!=="numbers",h=g=>W.formatLabel(g),o=(g,s=null)=>{if(typeof g!="number")return g;const t=s?w(s):null;return t?ie(g,t):g.toLocaleString()},v=()=>{const g=p.item[p.itemIdField];u.push(`${p.editRoute}/${g}`)},O=()=>{const g=p.item[p.itemIdField],s=f.value.length>0?f.value[0][1]:"this item";c.require({message:`Are you sure you want to delete "${s}"?`,header:"Confirm Deletion",icon:"pi pi-exclamation-triangle",acceptClass:"p-button-danger",accept:()=>{x("deleteItem",g)},reject:()=>{}})},_=g=>g?new Date(g).toLocaleDateString():"",w=g=>p.schema?.properties?.[g]||null,A=(g,s)=>{const t=g.toLowerCase();return t.includes("email")||s?.type==="email"?"pi pi-envelope text-blue-500":t.includes("phone")||t.includes("mobile")||s?.type==="phone"?"pi pi-phone text-green-500":t.includes("linkedin")||t.includes("social")?"pi pi-linkedin text-blue-600":t.includes("website")||t.includes("url")?"pi pi-globe text-purple-500":t.includes("address")||t.includes("location")?"pi pi-map-marker text-red-500":"pi pi-user text-gray-500"},S=()=>{if(f.value.length>0){const s=f.value[0][1];if(s&&typeof s=="string"){const t=s.trim().split(/\s+/);if(t.length>=2)return`${t[0][0]}${t[t.length-1][0]}`.toUpperCase();if(t.length===1)return t[0][0].toUpperCase()}}const g=Object.values(p.item).find(s=>s&&typeof s=="string"&&s.trim().length>0);return g?g.trim()[0].toUpperCase():"?"},Y=()=>{if(p.schema?.properties){const g=Object.entries(p.schema.properties).find(([s,t])=>t.type==="url"&&(s.toLowerCase().includes("image")||s.toLowerCase().includes("photo")||s.toLowerCase().includes("avatar")||s.toLowerCase().includes("picture")));if(g){const s=p.item[g[0]];if(s&&typeof s=="object"&&s.url)return s.url;if(typeof s=="string"&&s.trim())return s.trim()}}return null};return(g,s)=>i.item&&Object.keys(i.item).length>0?(l(),n("div",at,[s[1]||(s[1]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("div",ot,[e("div",dt,[e("div",ct,[D(K,{icon:"pi pi-pencil",severity:"success",onClick:v}),D(K,{icon:"pi pi-trash",severity:"danger",onClick:O})])]),f.value.length>0?(l(),n("div",ut,[e("div",pt,[D(E(ne),{label:S(),image:Y(),size:"xlarge",shape:"circle",class:"border-2 border-gray-200 shadow-md bg-gray-100 p-2"},null,8,["label","image"])]),(l(!0),n(F,null,k(f.value,([t,r])=>(l(),n("div",{key:t,class:"flex flex-col justify-start gap-2 mb-2 ml-4"},[e("h2",mt,m(r),1),M.value.length>0?(l(),n("div",gt,[e("div",ft,[(l(!0),n(F,null,k(M.value,([a,C])=>(l(),B(ee,{key:a,value:C,"field-name":a,"format-label":U=>h(U)},null,8,["value","field-name","format-label"]))),128))])])):$("",!0)]))),128))])):$("",!0),I.value.length>0?(l(),n("div",xt,[e("div",bt,[(l(!0),n(F,null,k(I.value,([t,r])=>(l(),n("div",{key:t,class:"flex items-center justify-start bg-blue-50 rounded-lg p-1 gap-1"},[e("div",ht,[e("i",{class:j(A(t,w(t)))},null,2)]),e("div",vt,[e("span",{class:"text-gray-800 font-medium text-sm truncate max-w-32",title:r||"Not provided"},m(r||"Not provided"),9,yt)])]))),128))])])):$("",!0),z.value.length>0?(l(),n("div",_t,[e("div",wt,[(l(!0),n(F,null,k(z.value,([t,r])=>(l(),n("div",{key:t,class:"flex flex-col items-center justify-between bg-green-50 rounded-lg p-1 border border-green-200"},[e("div",$t,[e("span",{class:"text-sm font-medium text-gray-700 truncate max-w-24",title:h(t)},m(h(t)),9,Ft)]),e("div",kt,[e("span",Ct,m(o(r||0,t)),1)])]))),128))])])):$("",!0),V.value.length>0?(l(),n("div",Lt,[e("div",jt,[(l(!0),n(F,null,k(V.value,([t,r])=>(l(),n("div",{key:t,class:"flex-col items-center justify-between bg-gray-50 rounded-lg p-3"},[e("div",St,[e("div",Ot,[e("i",{class:j([E(J)(t,w(t)),"text-blue-500"])},null,2),e("span",{class:"text-sm font-medium text-gray-700",title:h(t)},m(h(t)),9,It)]),e("span",Nt,m(o(r||0,t)),1)])]))),128))])])):$("",!0),N.value.length>0?(l(),n("div",At,[e("div",Dt,[(l(!0),n(F,null,k(N.value,([t,r])=>(l(),n("div",{key:t,class:"flex-col items-center justify-between bg-purple-50 rounded-lg p-3 border border-purple-200"},[e("div",zt,[s[0]||(s[0]=e("i",{class:"pi pi-link text-purple-600"},null,-1)),e("span",{class:"text-sm font-medium text-gray-700",title:h(t)},m(h(t)),9,Vt)]),e("div",Bt,[e("a",{href:r,target:"_blank",rel:"noopener noreferrer",class:"text-purple-600 hover:text-purple-800 underline",title:r},m(r||"No URL"),9,qt)])]))),128))])])):$("",!0),e("div",Mt,[(l(!0),n(F,null,k(T.value,([t,r])=>(l(),n("div",{key:t,class:"space-y-1 pt-2 border-b border-gray-100 last:border-b-0"},[y(t)?(l(),n("div",Tt,[r?.emoji?(l(),n("span",Rt,m(r.emoji),1)):r?.icon?(l(),n("i",{key:1,class:j([r.icon,"mr-2 text-gray-500"])},null,2)):$("",!0),e("span",{class:"truncate max-w-32",title:h(t)},m(h(t)),9,Ut)])):$("",!0),(l(),B(pe(P(t)),{value:i.item[t],"field-name":t,schema:i.schema},null,8,["value","field-name","schema"]))]))),128))]),e("div",Et,[e("span",null,"Added: "+m(_(i.item.created_time)),1),i.item.last_edited_time!==i.item.created_time?(l(),n("span",Pt," â€¢ Updated: "+m(_(i.item.last_edited_time)),1)):$("",!0)])])])):$("",!0)}},Qt={class:"relative"},Gt={class:"relative z-10 bg-white rounded-lg overflow-hidden"},Jt={class:"overflow-x-auto"},Wt={class:"w-full"},Kt={class:"bg-gray-50 border-b border-gray-200"},Xt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky left-0 bg-gray-50 z-10"},Yt={class:"flex items-center space-x-2"},Zt={class:"flex items-center space-x-2"},es={class:"flex items-center space-x-2"},ts={class:"flex items-center space-x-2"},ss={class:"bg-white divide-y divide-gray-200"},rs={class:"px-6 py-4 whitespace-nowrap sticky left-0 bg-white z-10"},ls={class:"flex items-center space-x-3"},is={class:"text-sm font-medium text-gray-900"},ns={key:0,class:"flex flex-wrap gap-2 mt-1"},as={class:"text-xs text-gray-500 mt-1"},os={class:"text-sm text-gray-600"},ds={class:"text-sm"},cs={key:0,class:"flex items-center space-x-2"},us={class:"text-gray-900 font-mono"},ps={key:1,class:"text-gray-900 font-mono"},ms={class:"flex flex-wrap gap-1"},gs={key:0,class:"text-sm text-gray-400"},fs={key:0,class:"text-sm"},xs={key:1,class:"text-sm text-gray-400"},bs={key:1,class:"text-sm"},hs=["href"],vs={key:1,class:"text-sm text-gray-400"},ys={key:2,class:"text-sm text-gray-900"},_s={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium sticky right-0 bg-white z-10"},ws={class:"flex gap-2 justify-end"},$s={__name:"TableView",props:{items:{type:Array,default:()=>[]},schema:{type:Object,default:null}},emits:["deleteItem"],setup(i,{emit:d}){const u=X(),c=i,p=d,x=s=>{if(!c.schema?.properties||!s)return null;const t=Object.entries(c.schema.properties).find(([r,a])=>a.type==="title");return t?s[t[0]]:null},b=s=>{if(!c.schema?.properties||!s)return[];const t=[];return Object.entries(c.schema.properties).forEach(([r,a])=>{a.type==="checkbox"&&s[r]!==void 0&&t.push([r,s[r]||!1])}),t},f=s=>{const t=s.toLowerCase();return t.includes("email")?"pi pi-envelope":t.includes("phone")||t.includes("mobile")?"pi pi-phone":t.includes("linkedin")||t.includes("social")?"pi pi-linkedin":t.includes("website")||t.includes("url")?"pi pi-globe":t.includes("address")||t.includes("location")?"pi pi-map-marker":"pi pi-user"},I=(s,t)=>{const r=s.toLowerCase();return t.type==="url"?"pi pi-link":t.type==="date"?"pi pi-calendar":t.type==="select"?"pi pi-list":t.type==="rich_text"?"pi pi-file-edit":r.includes("bio")||r.includes("description")||r.includes("notes")?"pi pi-file-text":(r.includes("status"),"pi pi-info-circle")},M=s=>{if(!c.schema?.properties?.[s])return!1;const t=c.schema.properties[s];return t.type==="number"&&t.number?.format&&t.number.format!=="number"},z=s=>{const t=x(s);if(t&&typeof t=="string"){const a=t.trim().split(/\s+/);if(a.length>=2)return`${a[0][0]}${a[a.length-1][0]}`.toUpperCase();if(a.length===1)return a[0][0].toUpperCase()}const r=Object.values(s).find(a=>a&&typeof a=="string"&&a.trim().length>0);return r?r.trim()[0].toUpperCase():"?"},V=s=>{if(!c.schema?.properties)return null;const t=Object.entries(c.schema.properties).find(([r,a])=>a.type==="url"&&(r.toLowerCase().includes("image")||r.toLowerCase().includes("photo")||r.toLowerCase().includes("avatar")||r.toLowerCase().includes("picture")));if(t){const r=s[t[0]];if(r&&typeof r=="object"&&r.url)return r.url;if(typeof r=="string"&&r.trim())return r.trim()}return null},N=s=>W.formatLabel(s),T=(s,t)=>{if(typeof s!="number")return s;const r=c.schema?.properties?.[t];return r?ie(s,r):s.toLocaleString()},R=(s,t)=>typeof s=="object"&&s!==null?s.url?s.url:s.rich_text?s.rich_text.map(r=>r.plain_text).join(""):s.select?s.select.name:s.multi_select?s.multi_select.map(r=>r.name).join(", "):s.date?s.date.start:JSON.stringify(s):s||"N/A",P=s=>s?new Date(s).toLocaleDateString():"",y=(s,t)=>{const r={name:t,options:c.schema?.properties?.[t]?.options||[]};return Z(s,r,c.schema)},h=(s,t)=>{const r={name:t,options:c.schema?.properties?.[t]?.options||[]};return Z({value:s,label:s,name:s},r,c.schema)},o=(s,t)=>{if(!s)return"No selection";const a=(c.schema?.properties?.[t]?.options||[]).find(C=>C.value===s||C.name===s);return a&&(a.label||a.name)||s},v=s=>typeof s=="object"&&s!==null&&s.url||s,O=()=>{if(!c.schema?.properties)return null;const s=Object.entries(c.schema.properties).find(([t,r])=>r.type==="title");return s?N(s[0]):null},_=()=>c.schema?.properties?Object.entries(c.schema.properties).filter(([s,t])=>s.toLowerCase().includes("email")||s.toLowerCase().includes("phone")||s.toLowerCase().includes("contact")||t.type==="email"||t.type==="phone"):[],w=()=>c.schema?.properties?Object.entries(c.schema.properties).filter(([s,t])=>t.type==="number"):[],A=()=>c.schema?.properties?Object.entries(c.schema.properties).filter(([s,t])=>t.type==="multi_select"):[],S=()=>c.schema?.properties?Object.entries(c.schema.properties).filter(([s,t])=>!(t.type==="title"||t.type==="number"||t.type==="multi_select"||t.type==="checkbox"||s.toLowerCase().includes("email")||s.toLowerCase().includes("phone")||s.toLowerCase().includes("contact"))):[],Y=s=>{u.push(`/edit/${s.id}`)},g=s=>{p("deleteItem",s.id)};return(s,t)=>(l(),n("div",Qt,[t[4]||(t[4]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("div",Gt,[t[3]||(t[3]=e("div",{class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"All Items")],-1)),e("div",Jt,[e("table",Wt,[e("thead",Kt,[e("tr",null,[e("th",Xt,m(O()||"Item"),1),(l(!0),n(F,null,k(_(),([r,a])=>(l(),n("th",{key:r,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("div",Yt,[e("i",{class:j([f(r),"text-blue-500"])},null,2),e("span",null,m(N(r)),1)])]))),128)),(l(!0),n(F,null,k(w(),([r,a])=>(l(),n("th",{key:r,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("div",Zt,[e("i",{class:j([E(J)(r),"text-green-500"])},null,2),e("span",null,m(N(r)),1)])]))),128)),(l(!0),n(F,null,k(A(),([r,a])=>(l(),n("th",{key:r,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-48"},[e("div",es,[t[0]||(t[0]=e("i",{class:"pi pi-tags text-purple-500"},null,-1)),e("span",null,m(N(r)),1)])]))),128)),(l(!0),n(F,null,k(S(),([r,a])=>(l(),n("th",{key:r,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("div",ts,[e("i",{class:j([I(r,a),"text-gray-500"])},null,2),e("span",null,m(N(r)),1)])]))),128)),t[1]||(t[1]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky right-0 bg-gray-50 z-10"}," Actions ",-1))])]),e("tbody",ss,[(l(!0),n(F,null,k(i.items,r=>(l(),n("tr",{key:r.id,class:"hover:bg-gray-50"},[e("td",rs,[e("div",ls,[D(E(ne),{label:z(r),image:V(r),size:"medium",shape:"circle",class:"border-2 border-gray-200 shadow-sm bg-gray-100"},null,8,["label","image"]),e("div",null,[e("div",is,m(x(r)||"Untitled"),1),b(r).length>0?(l(),n("div",ns,[(l(!0),n(F,null,k(b(r),([a,C])=>(l(),B(ee,{key:a,value:C,"field-name":a,"format-label":N},null,8,["value","field-name"]))),128))])):$("",!0),e("div",as,m(P(r.created_time)),1)])])]),(l(!0),n(F,null,k(_(),([a,C])=>(l(),n("td",{key:a,class:"px-6 py-4"},[e("div",os,m(r[a]||"Not provided"),1)]))),128)),(l(!0),n(F,null,k(w(),([a,C])=>(l(),n("td",{key:a,class:"px-6 py-4"},[e("div",ds,[M(a)?(l(),n("span",cs,[e("i",{class:j([E(J)(a),"text-green-500"])},null,2),e("span",us,m(T(r[a]||0,a)),1)])):(l(),n("span",ps,m(T(r[a]||0,a)),1))])]))),128)),(l(!0),n(F,null,k(A(),([a,C])=>(l(),n("td",{key:a,class:"px-6 py-4 min-w-48"},[e("div",ms,[(l(!0),n(F,null,k(r[a]||[],U=>(l(),n("span",{key:U.name||U,class:j([y(U,a),"px-2 py-1 text-xs rounded-full border font-medium"])},m(U.name||U),3))),128)),!r[a]||r[a].length===0?(l(),n("span",gs," No tags ")):$("",!0)])]))),128)),(l(!0),n(F,null,k(S(),([a,C])=>(l(),n("td",{key:a,class:"px-6 py-4"},[C.type==="select"?(l(),n("div",fs,[r[a]?(l(),n("span",{key:0,class:j([h(r[a],a),"px-2 py-1 text-xs rounded-full border font-medium"])},m(o(r[a],a)),3)):(l(),n("span",xs,"No selection"))])):C.type==="url"?(l(),n("div",bs,[r[a]?(l(),n("a",{key:0,href:v(r[a]),target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 hover:text-blue-800 underline flex items-center space-x-1"},[t[2]||(t[2]=e("i",{class:"pi pi-external-link text-xs"},null,-1)),e("span",null,m(v(r[a])),1)],8,hs)):(l(),n("span",vs,"No URL"))])):(l(),n("div",ys,m(R(r[a])),1))]))),128)),e("td",_s,[e("div",ws,[D(K,{icon:"pi pi-pencil",severity:"success",size:"small",onClick:a=>Y(r)},null,8,["onClick"]),D(K,{icon:"pi pi-trash",severity:"danger",size:"small",onClick:a=>g(r)},null,8,["onClick"])])])]))),128))])])])])]))}},Fs={class:"bg-white hover:shadow-lg transition-shadow p-4 border-2 border-black rounded-lg shadow-lg flex flex-col h-full"},ks={class:"text-center py-16 flex-1 flex flex-col items-center justify-center"},Cs={__name:"EmptyState",emits:["add-item"],setup(i){return(d,u)=>{const c=G;return l(),n("div",Fs,[e("div",ks,[u[2]||(u[2]=e("div",{class:"text-6xl mb-4"},"ðŸ“‹",-1)),u[3]||(u[3]=e("h3",{class:"text-2xl font-semibold text-gray-900 mb-2"},"No items yet",-1)),u[4]||(u[4]=e("p",{class:"text-gray-600 mb-6 text-center max-w-md"},"Start building your collection by adding your first item to get started.",-1)),D(c,{onClick:u[0]||(u[0]=p=>d.$emit("add-item")),severity:"primary"},{default:Q(()=>u[1]||(u[1]=[e("i",{class:"pi pi-plus mr-2"},null,-1),H("Add First Item ",-1)])),_:1,__:[1]})])])}}},Ls={class:"space-y-6"},js={key:1,class:"space-y-6"},Ss={class:"flex flex-col gap-4 lg:hidden"},Os={class:"relative w-full"},Is={class:"relative z-10"},Ns={class:"relative"},As={class:"flex gap-2 items-center"},Ds={class:"flex gap-2 flex-1"},zs={class:"relative flex-1"},Vs={class:"hidden sm:inline"},Bs={class:"relative flex-1"},qs={class:"hidden sm:inline"},Ms={class:"flex-shrink-0"},Ts={class:"relative"},Rs={class:"relative z-10 flex bg-gray-100 rounded-lg p-1"},Us={class:"hidden lg:flex gap-4 items-center"},Es={class:"relative flex-1"},Ps={class:"relative z-10"},Hs={class:"relative"},Qs={class:"flex-shrink-0 flex gap-2"},Gs={class:"relative"},Js={class:"relative"},Ws={class:"flex-shrink-0"},Ks={class:"relative"},Xs={class:"relative z-10 flex bg-gray-100 rounded-lg p-1"},Ys={key:0},Zs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},er={__name:"ListView",props:{loading:{type:Boolean,default:!1},loadingMore:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},schema:{type:Object,default:null},hasMore:{type:Boolean,default:!1}},emits:["deleteItem","loadMore"],setup(i,{emit:d}){const u=X(),c=q("card"),p=q(""),x=q(!1),b=q(!1);q("Verified"),q("Available");const f=i,I=d,M=L(()=>(f.items.length===0||!f.schema)&&!f.loading),z=L(()=>{if(f.items.length===0)return{verified:"Verified",available:"Available"};const h=Object.entries(f.items[0]).filter(([w,A])=>typeof A=="boolean");let o="Verified",v="Available";const O=h.find(([w,A])=>{const S=w.toLowerCase();return S.includes("verified")||S.includes("verify")});O&&(o=W.formatLabel(O[0]));const _=h.find(([w,A])=>{const S=w.toLowerCase();return S.includes("available")||S.includes("hire")||S.includes("hiring")});return _&&(v=W.formatLabel(_[0])),{verified:o,available:v}}),V=L(()=>{let h=f.items;if(f.items.length>0&&(x.value||b.value)&&(console.log("Available fields:",Object.keys(f.items[0])),console.log("Boolean fields:",Object.entries(f.items[0]).filter(([v,O])=>typeof O=="boolean"))),(x.value||b.value)&&(h=h.filter(v=>{if(x.value&&b.value){const O=Object.entries(v).some(([w,A])=>{if(typeof A!="boolean")return!1;const S=w.toLowerCase();return(S.includes("verified")||S.includes("verify"))&&A===!0}),_=Object.entries(v).some(([w,A])=>{if(typeof A!="boolean")return!1;const S=w.toLowerCase();return(S.includes("available")||S.includes("hire")||S.includes("hiring"))&&A===!0});return O&&_}return x.value?Object.entries(v).some(([O,_])=>{if(typeof _!="boolean")return!1;const w=O.toLowerCase();return(w.includes("verified")||w.includes("verify"))&&_===!0}):b.value?Object.entries(v).some(([O,_])=>{if(typeof _!="boolean")return!1;const w=O.toLowerCase();return(w.includes("available")||w.includes("hire")||w.includes("hiring"))&&_===!0}):!0})),!p.value.trim())return h;const o=p.value.toLowerCase().trim();return h.filter(v=>Object.entries(v).some(([O,_])=>_==null?!1:typeof _=="string"?_.toLowerCase().includes(o):Array.isArray(_)?_.some(w=>typeof w=="string"?w.toLowerCase().includes(o):w.name&&w.name.toLowerCase().includes(o)):typeof _=="object"&&_.name?_.name.toLowerCase().includes(o):typeof _=="number"?_.toString().includes(o):!1))}),N=()=>{p.value=""},T=()=>{x.value=!x.value},R=()=>{b.value=!b.value},P=()=>{u.push("/add")},y=h=>{I("deleteItem",h)};return(h,o)=>(l(),n("div",Ls,[i.loading||!i.schema||i.items.length===0?(l(),B(te,{key:0,count:6,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"})):i.schema&&i.items.length>0?(l(),n("div",js,[e("div",Ss,[e("div",Os,[o[8]||(o[8]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("div",Is,[e("div",Ns,[se(e("input",{"onUpdate:modelValue":o[0]||(o[0]=v=>p.value=v),type:"text",placeholder:"Search items...",class:"w-full pl-10 pr-4 py-2.5 bg-white border-0 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-0"},null,512),[[re,p.value]]),o[7]||(o[7]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("i",{class:"pi pi-search text-gray-400"})],-1)),p.value?(l(),n("button",{key:0,onClick:N,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},o[6]||(o[6]=[e("i",{class:"pi pi-times"},null,-1)]))):$("",!0)])])]),e("div",As,[e("div",Ds,[e("div",zs,[o[11]||(o[11]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("button",{onClick:T,class:j(["relative z-10 w-full px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2",x.value?"bg-green-100 text-green-800 border border-green-300":"bg-white text-gray-600 hover:text-gray-800"])},[o[9]||(o[9]=e("i",{class:"pi pi-check-circle"},null,-1)),e("span",Vs,m(z.value.verified),1),o[10]||(o[10]=e("span",{class:"sm:hidden"},"âœ“",-1))],2)]),e("div",Bs,[o[14]||(o[14]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("button",{onClick:R,class:j(["relative z-10 w-full px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2",b.value?"bg-blue-100 text-blue-800 border border-blue-300":"bg-white text-gray-600 hover:text-gray-800"])},[o[12]||(o[12]=e("i",{class:"pi pi-user-check"},null,-1)),e("span",qs,m(z.value.available),1),o[13]||(o[13]=e("span",{class:"sm:hidden"},"ðŸ‘¤",-1))],2)])]),e("div",Ms,[e("div",Ts,[o[17]||(o[17]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-gray-100 rounded-lg h-full w-full"})],-1)),e("div",Rs,[e("button",{onClick:o[1]||(o[1]=v=>c.value="card"),class:j(["px-2 sm:px-3 py-2 rounded-md text-sm font-medium transition-all duration-200",c.value==="card"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"])},o[15]||(o[15]=[e("i",{class:"pi pi-th-large sm:mr-2"},null,-1),e("span",{class:"hidden sm:inline"},"Card",-1)]),2),e("button",{onClick:o[2]||(o[2]=v=>c.value="table"),class:j(["px-2 sm:px-3 py-2 rounded-md text-sm font-medium transition-all duration-200",c.value==="table"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"])},o[16]||(o[16]=[e("i",{class:"pi pi-table sm:mr-2"},null,-1),e("span",{class:"hidden sm:inline"},"Table",-1)]),2)])])])])]),e("div",Us,[e("div",Es,[o[20]||(o[20]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("div",Ps,[e("div",Hs,[se(e("input",{"onUpdate:modelValue":o[3]||(o[3]=v=>p.value=v),type:"text",placeholder:"Search items...",class:"w-full pl-10 pr-4 py-2.5 bg-white border-0 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-0"},null,512),[[re,p.value]]),o[19]||(o[19]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("i",{class:"pi pi-search text-gray-400"})],-1)),p.value?(l(),n("button",{key:0,onClick:N,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},o[18]||(o[18]=[e("i",{class:"pi pi-times"},null,-1)]))):$("",!0)])])]),e("div",Qs,[e("div",Gs,[o[22]||(o[22]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("button",{onClick:T,class:j(["relative z-10 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2",x.value?"bg-green-100 text-green-800 border border-green-300":"bg-white text-gray-600 hover:text-gray-800"])},[o[21]||(o[21]=e("i",{class:"pi pi-check-circle"},null,-1)),e("span",null,m(z.value.verified),1)],2)]),e("div",Js,[o[24]||(o[24]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("button",{onClick:R,class:j(["relative z-10 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2",b.value?"bg-blue-100 text-blue-800 border border-blue-300":"bg-white text-gray-600 hover:text-gray-800"])},[o[23]||(o[23]=e("i",{class:"pi pi-user-check"},null,-1)),e("span",null,m(z.value.available),1)],2)])]),e("div",Ws,[e("div",Ks,[o[27]||(o[27]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-gray-100 rounded-lg h-full w-full"})],-1)),e("div",Xs,[e("button",{onClick:o[4]||(o[4]=v=>c.value="card"),class:j(["px-3 py-2 rounded-md text-sm font-medium transition-all duration-200",c.value==="card"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"])},o[25]||(o[25]=[e("i",{class:"pi pi-th-large mr-2"},null,-1),H(" Card View ",-1)]),2),e("button",{onClick:o[5]||(o[5]=v=>c.value="table"),class:j(["px-3 py-2 rounded-md text-sm font-medium transition-all duration-200",c.value==="table"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"])},o[26]||(o[26]=[e("i",{class:"pi pi-table mr-2"},null,-1),H(" Table View ",-1)]),2)])])])]),c.value==="card"?(l(),n("div",Ys,[e("div",Zs,[(l(!0),n(F,null,k(V.value,v=>(l(),B(Ht,{key:v.id,item:v,schema:i.schema,onDeleteItem:y},null,8,["item","schema"]))),128)),i.loadingMore?(l(),B(te,{key:0,count:3,class:"contents"})):$("",!0)])])):c.value==="table"?(l(),B($s,{key:1,items:V.value,schema:i.schema,onDeleteItem:y},null,8,["items","schema"])):$("",!0)])):M.value?(l(),B(Cs,{key:2,onAddItem:P})):$("",!0),i.hasMore&&!i.loading?(l(),B(je,{key:3,loading:i.loadingMore,onLoadMore:h.loadMore},null,8,["loading","onLoadMore"])):$("",!0)]))}},tr={class:"home-view"},sr={class:"space-y-8"},rr={__name:"HomeView",setup(i){const d=de(),u=L(()=>d.loading),c=L(()=>d.error),p=L(()=>d.items),x=L(()=>{if(!d.schema?.properties)return null;const h=d.getDatabaseInfo()?.schema?.properties||{};return{...d.schema,properties:Object.fromEntries(Object.entries(d.schema.properties).map(([o,v])=>[o,{...v,type:v.type,required:v.required||!1,emoji:v.emoji||null,icon:v.icon||null,number:v.number||null,select:v.select||null,multi_select:v.multi_select||null,...h[o]&&{number:{...v.number,format:h[o].number?.format||v.number?.format}}}]))}}),b=q(!1),f=q(""),I=q(""),M=q(!1),z=async()=>{try{const[y,h]=await Promise.allSettled([d.ensureSchemaLoaded(),d.fetchAllItems()]);y.status==="rejected"&&console.error("Schema loading failed:",y.reason),h.status==="rejected"&&console.error("Items loading failed:",h.reason),y.status==="fulfilled"&&h.status==="fulfilled"&&V()}catch(y){console.error("Failed to initialize:",y)}},V=()=>{const y=d.getDatabaseInfo();y&&(y.title&&(f.value=y.title),y.description&&(I.value=y.description))},N=async()=>{try{const[y,h]=await Promise.allSettled([d.fetchSchema(!0),d.fetchAllItems()]);y.status==="fulfilled"&&h.status==="fulfilled"?V():(console.error("Schema refresh failed:",y.status==="rejected"?y.reason:"Unknown error"),console.error("Items refresh failed:",h.status==="rejected"?h.reason:"Unknown error"))}catch(y){console.error("Failed to refresh schema:",y)}},T=async()=>{if(!(!M.value||b.value))try{b.value=!0}catch(y){console.error("Failed to load more:",y)}finally{b.value=!1}},R=async()=>{await z()},P=async y=>{try{await d.deleteItem(y),await d.fetchAllItems()}catch(h){console.error("Failed to delete item:",h)}};return me(()=>{z()}),(y,h)=>(l(),n("div",tr,[e("div",sr,[D(ye,{loading:u.value,"database-title":f.value,"database-description":I.value,onRefreshSchema:N},null,8,["loading","database-title","database-description"]),D(Fe,{error:c.value,onRetry:R},null,8,["error"]),D(er,{loading:u.value,"loading-more":b.value,items:p.value,schema:x.value,"has-more":M.value,onDeleteItem:P,onLoadMore:T},null,8,["loading","loading-more","items","schema","has-more"])])]))}},ar=oe(rr,[["__scopeId","data-v-5925e735"]]);export{ar as default};
