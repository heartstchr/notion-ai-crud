import{g as J,a as ne,b as Z,N as W,f as ie,_ as te,c as oe,u as de}from"./_plugin-vue_export-helper-BP9Tnqx3.js";import{a as G,u as ue,b as ae}from"./vendor-primevue-B-103_1F.js";import{Q as X,c as a,d as l,s as $,e,t as g,z as O,q as Q,h as H,y as L,F,E as k,G as ce,v as j,L as E,p as T,x as pe,S as ge,r as B,l as se,U as re,o as me}from"./vendor-vue-3gpeyM8i.js";const fe={class:"text-center space-y-4"},be={key:0,class:"space-y-2"},xe={key:1,class:"text-4xl font-bold text-gray-900"},he={key:2,class:"space-y-2"},ve={key:3,class:"text-lg text-gray-600 max-w-2xl mx-auto"},ye={class:"flex justify-end gap-4 flex-wrap"},we={__name:"HeaderView",props:{loading:{type:Boolean,default:!1},databaseTitle:{type:String,default:""},databaseDescription:{type:String,default:""}},emits:["refreshSchema"],setup(i,{emit:d}){const c=X(),u=d,p=()=>{u("refreshSchema")},b=()=>{c.push("/add")};return(x,f)=>{const N=G;return l(),a("div",fe,[i.loading&&!i.databaseTitle?(l(),a("div",be,f[0]||(f[0]=[e("div",{class:"h-12 bg-gray-200 rounded-lg animate-pulse mx-auto",style:{width:"300px"}},null,-1)]))):(l(),a("h1",xe,g(i.databaseTitle),1)),i.loading&&!i.databaseDescription?(l(),a("div",he,f[1]||(f[1]=[e("div",{class:"h-6 bg-gray-200 rounded-lg animate-pulse mx-auto",style:{width:"500px"}},null,-1),e("div",{class:"h-6 bg-gray-200 rounded-lg animate-pulse mx-auto",style:{width:"400px"}},null,-1)]))):i.databaseDescription?(l(),a("p",ve,g(i.databaseDescription),1)):$("",!0),e("div",ye,[O(N,{onClick:p,disabled:i.loading,severity:"secondary"},{default:Q(()=>f[2]||(f[2]=[e("i",{class:"pi pi-refresh"},null,-1),H("Refresh ",-1)])),_:1,__:[2]},8,["disabled"]),O(N,{onClick:b,severity:"primary"},{default:Q(()=>f[3]||(f[3]=[e("i",{class:"pi pi-plus"},null,-1),H("Add ",-1)])),_:1,__:[3]})])])}}},_e={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3"},$e={class:"flex-1"},Fe={class:"text-red-700"},ke={__name:"ErrorDisplay",props:{error:{type:String,default:""}},emits:["retry"],setup(i){return(d,c)=>{const u=G;return i.error?(l(),a("div",_e,[c[2]||(c[2]=e("i",{class:"pi pi-exclamation-triangle text-red-500 text-xl"},null,-1)),e("div",$e,[c[1]||(c[1]=e("strong",{class:"text-red-800"},"Error:",-1)),e("span",Fe,g(i.error),1),O(u,{onClick:d.retry,severity:"danger",text:""},{default:Q(()=>c[0]||(c[0]=[H(" Try Again ",-1)])),_:1,__:[0]},8,["onClick"])])])):$("",!0)}}},Ce={class:"text-center"},Le={key:0},je={key:1},Se={__name:"LoadMoreButton",props:{loading:{type:Boolean,default:!1}},emits:["load-more"],setup(i){return(d,c)=>{const u=G;return l(),a("div",Ce,[O(u,{onClick:c[0]||(c[0]=p=>d.$emit("load-more")),disabled:i.loading,severity:"secondary"},{default:Q(()=>[i.loading?(l(),a("span",Le,"Loading...")):(l(),a("span",je,"Load More"))]),_:1},8,["disabled"])])}}},Oe={class:"text-gray-800 leading-relaxed"},Ie={__name:"RichTextField",props:{value:{type:[Object,String],required:!0}},setup(i){const d=i,c=L(()=>Array.isArray(d.value)?d.value:d.value&&typeof d.value=="object"?d.value.rich_text||d.value.title||[]:typeof d.value=="string"?[{text:{content:d.value},annotations:{}}]:[]),u=p=>{if(!p)return{};const b={};return p.italic&&(b.fontStyle="italic"),p.underline&&(b.textDecoration="underline"),p.strikethrough&&(b.textDecoration="line-through"),p.code&&(b.fontFamily="monospace",b.backgroundColor="#f3f4f6",b.padding="2px 4px",b.borderRadius="4px"),b};return(p,b)=>(l(),a("div",Oe,[(l(!0),a(F,null,k(c.value,(x,f)=>(l(),a("span",{key:f,class:j(x.annotations?.bold?"font-semibold":""),style:ce(u(x.annotations))},g(x.text?.content||x.plain_text||""),7))),128))]))}},Ne={class:"grid grid-cols-2 gap-4"},ze={key:0,class:"flex items-center space-x-2"},Ae={class:"text-gray-800"},De={key:1,class:"flex items-center space-x-2"},Ve={class:"text-gray-800"},Be={__name:"ContactField",props:{value:{type:[Object,String],required:!0}},setup(i){return(d,c)=>(l(),a("div",Ne,[typeof i.value=="string"||i.value?.email?(l(),a("div",ze,[c[0]||(c[0]=e("i",{class:"pi pi-envelope text-blue-500"},null,-1)),e("span",Ae,g(typeof i.value=="string"?i.value:i.value.email),1)])):$("",!0),typeof i.value=="string"||i.value?.phone?(l(),a("div",De,[c[1]||(c[1]=e("i",{class:"pi pi-phone text-green-500"},null,-1)),e("span",Ve,g(typeof i.value=="string"?i.value:i.value.phone),1)])):$("",!0)]))}},qe={class:"space-y-3"},Me={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Te={class:"text-sm font-medium text-gray-700"},Ue={class:"flex items-center space-x-2"},Re={class:"text-gray-800 font-mono font-medium"},Ee={key:0,class:"text-lg text-gray-600 font-medium"},Pe={__name:"NumbersField",props:{value:{type:Object,required:!0},schema:{type:Object,default:null},formatLabel:{type:Function,required:!0},formatNumber:{type:Function,required:!0},getSchemaProperty:{type:Function,required:!0},getFieldCurrencySymbol:{type:Function,required:!0}},setup(i){return(d,c)=>(l(),a("div",qe,[e("div",Me,[(l(!0),a(F,null,k(i.value,(u,p)=>(l(),a("div",{key:p,class:"flex items-center justify-start bg-gray-50 rounded-lg gap-2 p-2"},[e("i",{class:j([E(J)(p,i.getSchemaProperty(p)),"text-blue-500"])},null,2),e("span",Te,g(i.formatLabel(p)),1),e("div",Ue,[e("span",Re,g(i.formatNumber(u||0,p)),1),i.getFieldCurrencySymbol(p)?(l(),a("span",Ee,g(i.getFieldCurrencySymbol(p)),1)):$("",!0)])]))),128))])]))}},He={class:"flex items-center space-x-2"},Qe=["href"],Ge={__name:"UrlField",props:{value:{type:[Object,String],required:!0}},setup(i){const d=c=>{try{const u=new URL(c);return u.hostname+u.pathname}catch{return c}};return(c,u)=>(l(),a("div",He,[u[0]||(u[0]=e("i",{class:"pi pi-link text-purple-500"},null,-1)),e("a",{href:typeof i.value=="string"?i.value:i.value.url,target:"_blank",rel:"noopener noreferrer",class:"text-purple-600 hover:text-purple-800 underline truncate max-w-xs"},g(d(typeof i.value=="string"?i.value:i.value.url)),9,Qe)]))}},Je={class:"flex items-center space-x-2"},We={class:"text-gray-800"},Ke={__name:"DateField",props:{value:{type:[Object,String],required:!0}},setup(i){const d=c=>c?new Date(c).toLocaleDateString():"";return(c,u)=>(l(),a("div",Je,[u[0]||(u[0]=e("i",{class:"pi pi-calendar text-indigo-500"},null,-1)),e("span",We,g(d(typeof i.value=="string"?i.value:i.value.date?.start||i.value.date)),1)]))}},Xe={class:"flex flex-wrap gap-2"},Ye={__name:"SelectField",props:{value:{type:[Object,Array],required:!0},fieldName:{type:String,required:!0},schema:{type:Object,default:null}},setup(i){const d=i,c=L(()=>({name:d.fieldName,options:p(d.fieldName,d.schema)})),u=L(()=>typeof d.value=="string"&&d.value.trim()?[{value:d.value,label:d.value,name:d.value}]:Array.isArray(d.value)&&d.value.length>0?d.value.map(b=>({value:b,label:b,name:b})):ne(d.value)),p=(b,x)=>!x||!x.properties||!x.properties[b]?[]:x.properties[b].options||[];return(b,x)=>(l(),a("div",Xe,[(l(!0),a(F,null,k(u.value,f=>(l(),a("span",{key:f.value||f,class:j([E(Z)(f,c.value,i.schema),"px-3 py-1.5 text-sm rounded-full border font-medium"])},g(f.label||f),3))),128))]))}},Ze={class:"flex items-center gap-2"},et={key:0,class:"flex items-center gap-1 bg-green-500 text-white px-2 py-1 rounded-full text-sm"},tt={class:"font-medium"},st={key:1,class:"flex items-center gap-1 bg-gray-200 text-gray-600 px-2 py-1 rounded-full text-sm"},rt={class:"font-medium"},ee={__name:"BooleanField",props:{value:{type:Boolean,required:!0},fieldName:{type:String,required:!0},formatLabel:{type:Function,required:!0}},setup(i){return(d,c)=>(l(),a("div",Ze,[i.value?(l(),a("div",et,[c[0]||(c[0]=e("i",{class:"pi pi-check-circle"},null,-1)),e("span",tt,g(i.formatLabel(i.fieldName)),1)])):(l(),a("div",st,[c[1]||(c[1]=e("i",{class:"pi pi-times-circle"},null,-1)),e("span",rt,g(i.formatLabel(i.fieldName)),1)]))]))}},lt={class:"text-gray-800 leading-relaxed"},le={__name:"TextField",props:{value:{type:[String,Number],required:!0}},setup(i){return(d,c)=>(l(),a("div",lt,g(i.value),1))}};function it(i="primary",d="small",c=!1){return{buttonPT:L(()=>({root:{class:[at(d),nt(i),"rounded-lg flex items-center justify-center","transition-all duration-300 hover:scale-105 hover:-translate-y-0.5","shadow-lg hover:shadow-xl","focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed","!border-0"]},icon:{class:c?"m-0":"mr-2"},label:{class:"font-medium"}}))}}function at(i){const d={small:"px-3 py-1.5 text-sm",large:"px-6 py-3 text-lg",default:"px-4 py-2"};return d[i]||d.default}function nt(i){const d={primary:"!bg-blue-600 !hover:bg-blue-700 !text-white focus:ring-blue-500 hover:shadow-[0_20px_40px_rgba(37,99,235,0.3),0_0_20px_rgba(37,99,235,0.2)]",secondary:"!bg-gray-200 !hover:bg-gray-300 !text-gray-700 hover:text-gray-800 border border-gray-300 focus:ring-gray-500 hover:shadow-[0_20px_40px_rgba(107,114,128,0.3),0_0_20px_rgba(107,114,128,0.2)]",danger:"!bg-red-600 !hover:bg-red-700 !text-white focus:ring-red-500 hover:shadow-[0_20px_40px_rgba(239,68,68,0.3),0_0_20px_rgba(239,68,68,0.2)]",success:"!bg-green-600 !hover:bg-green-700 !text-white focus:ring-green-500 hover:shadow-[0_20px_40px_#22c55e4d,0_0_20px_#22c55e33]",warning:"!bg-amber-600 !hover:bg-amber-700 !text-white focus:ring-amber-500 hover:shadow-[0_20px_40px_rgba(217,119,6,0.3),0_0_20px_rgba(217,119,6,0.2)]",info:"!bg-cyan-600 !hover:bg-cyan-700 !text-white focus:ring-cyan-500 hover:shadow-[0_20px_40px_rgba(6,182,212,0.3),0_0_20px_rgba(6,182,212,0.2)]"};return d[i]||d.primary}const K={__name:"IconButton",props:{icon:{type:String,required:!0},severity:{type:String,default:"primary"},size:{type:String,default:"small"}},emits:["click"],setup(i,{emit:d}){const c=i,{buttonPT:u}=it(c.severity,c.size,!0),p=d,b=()=>{p("click")};return(x,f)=>{const N=G;return l(),T(N,{pt:E(u),icon:i.icon,onClick:b},null,8,["pt","icon"])}}},ot={key:0,class:"bg-white hover:shadow-lg text-gray-900 transition-shadow p-4 rounded-lg shadow-lg flex flex-col h-full relative"},dt={class:"relative z-10"},ut={class:"flex justify-end items-start mb-3"},ct={class:"flex gap-2"},pt={key:0,class:"mb-4 flex md:flex-row flex-col gap-2"},gt={class:"flex justify-center mb-4"},mt={class:"text-2xl font-bold text-gray-900"},ft={key:0,class:"mb-2"},bt={class:"flex flex-wrap gap-2"},xt={key:1,class:"mb-4"},ht={class:"grid grid-cols-1 sm:grid-cols-2 gap-1"},vt={class:"flex items-center space-x-1"},yt={class:"flex items-center space-x-1"},wt=["title"],_t={key:2,class:"mb-4"},$t={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Ft={class:"flex items-center space-x-1"},kt=["title"],Ct={class:"flex items-center space-x-1"},Lt={class:"text-gray-800 font-mono font-medium"},jt={key:3,class:"mb-4"},St={class:"gap-3"},Ot={class:"flex items-center justify-between"},It={class:"flex items-center space-x-2"},Nt=["title"],zt={class:"text-gray-800 font-mono font-medium text-lg"},At={key:4,class:"mb-4"},Dt={class:"gap-3"},Vt={class:"flex items-center space-x-2"},Bt=["title"],qt={class:"flex items-center space-x-2"},Mt=["href","title"],Tt={class:"space-y-3 flex-1"},Ut={key:0,class:"text-sm font-medium text-gray-700 mb-2"},Rt={key:0,class:"mr-2 text-base"},Et=["title"],Pt={class:"text-xs text-gray-500 mt-auto pt-2 border-t border-gray-100 flex flex-row justify-end"},Ht={key:0},Qt={__name:"CardView",props:{item:{type:Object,required:!0},schema:{type:Object,default:null},loading:{type:Boolean,default:!1},editRoute:{type:String,default:"/edit"},itemIdField:{type:String,default:"id"}},emits:["deleteItem"],setup(i,{emit:d}){const c=X(),u=ue(),p=i,b=d,x=L(()=>{if(!p.schema?.properties||!p.item)return{titleFields:[],contactFields:[],booleanFields:[],currencyNumberFields:[],regularNumberFields:[],urlFields:[],otherFields:[]};const m=p.schema.properties,s=p.item,t={titleFields:[],contactFields:[],booleanFields:[],currencyNumberFields:[],regularNumberFields:[],urlFields:[],otherFields:[]};return Object.entries(m).forEach(([r,n])=>{const C=s[r];if(!(!C&&n.type!=="checkbox"&&n.type!=="select"&&n.type!=="multi_select"))switch(n.type){case"title":t.titleFields.push([r,C]);break;case"checkbox":t.booleanFields.push([r,C||!1]);break;case"number":n.number?.format&&n.number.format!=="number"?t.currencyNumberFields.push([r,C||0]):t.regularNumberFields.push([r,C||0]);break;case"url":t.urlFields.push([r,C]);break;case"select":case"multi_select":t.otherFields.push([r,n]);break;default:r.toLowerCase().includes("email")||r.toLowerCase().includes("phone")||r.toLowerCase().includes("contact")||n.type==="email"||n.type==="phone"?t.contactFields.push([r,C]):n.type!=="title"&&n.type!=="number"&&n.type!=="checkbox"&&n.type!=="url"&&t.otherFields.push([r,n])}}),t}),f=L(()=>x.value.titleFields),N=L(()=>x.value.contactFields),q=L(()=>x.value.booleanFields),D=L(()=>x.value.currencyNumberFields),V=L(()=>x.value.regularNumberFields),z=L(()=>x.value.urlFields),M=L(()=>x.value.otherFields),U=L(()=>{if(!p.schema?.properties)return{};const m={};return Object.entries(p.schema.properties).forEach(([s,t])=>{switch(t.type){case"rich_text":m[s]=Ie;break;case"url":m[s]=Ge;break;case"date":m[s]=Ke;break;case"select":case"multi_select":m[s]=Ye;break;case"checkbox":m[s]=ee;break;default:m[s]=le}}),m}),P=m=>m==="contact"?Be:m==="numbers"?Pe:U.value[m]||le,y=m=>m!=="contact"&&m!=="numbers",h=m=>W.formatLabel(m),o=(m,s=null)=>{if(typeof m!="number")return m;const t=s?_(s):null;return t?ie(m,t):m.toLocaleString()},v=()=>{const m=p.item[p.itemIdField];c.push(`${p.editRoute}/${m}`)},I=()=>{const m=p.item[p.itemIdField],s=f.value.length>0?f.value[0][1]:"this item";u.require({message:`Are you sure you want to delete "${s}"?`,header:"Confirm Deletion",icon:"pi pi-exclamation-triangle",acceptClass:"p-button-danger",accept:()=>{b("deleteItem",m)},reject:()=>{}})},w=m=>m?new Date(m).toLocaleDateString():"",_=m=>p.schema?.properties?.[m]||null,A=(m,s)=>{const t=m.toLowerCase();return t.includes("email")||s?.type==="email"?"pi pi-envelope text-blue-500":t.includes("phone")||t.includes("mobile")||s?.type==="phone"?"pi pi-phone text-green-500":t.includes("linkedin")||t.includes("social")?"pi pi-linkedin text-blue-600":t.includes("website")||t.includes("url")?"pi pi-globe text-purple-500":t.includes("address")||t.includes("location")?"pi pi-map-marker text-red-500":"pi pi-user text-gray-500"},S=()=>{if(f.value.length>0){const s=f.value[0][1];if(s&&typeof s=="string"){const t=s.trim().split(/\s+/);if(t.length>=2)return`${t[0][0]}${t[t.length-1][0]}`.toUpperCase();if(t.length===1)return t[0][0].toUpperCase()}}const m=Object.values(p.item).find(s=>s&&typeof s=="string"&&s.trim().length>0);return m?m.trim()[0].toUpperCase():"?"},Y=()=>{if(p.schema?.properties){const m=Object.entries(p.schema.properties).find(([s,t])=>t.type==="url"&&(s.toLowerCase().includes("image")||s.toLowerCase().includes("photo")||s.toLowerCase().includes("avatar")||s.toLowerCase().includes("picture")));if(m){const s=p.item[m[0]];if(s&&typeof s=="object"&&s.url)return s.url;if(typeof s=="string"&&s.trim())return s.trim()}}return null};return(m,s)=>i.item&&Object.keys(i.item).length>0?(l(),a("div",ot,[s[1]||(s[1]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("div",dt,[e("div",ut,[e("div",ct,[O(K,{icon:"pi pi-pencil",severity:"success",onClick:v}),O(K,{icon:"pi pi-trash",severity:"danger",onClick:I})])]),f.value.length>0?(l(),a("div",pt,[e("div",gt,[O(E(ae),{label:S(),image:Y(),size:"xlarge",shape:"circle",class:"border-2 border-gray-200 shadow-md bg-gray-100 p-2"},null,8,["label","image"])]),(l(!0),a(F,null,k(f.value,([t,r])=>(l(),a("div",{key:t,class:"flex flex-col justify-start gap-2 mb-2 ml-4"},[e("h2",mt,g(r),1),q.value.length>0?(l(),a("div",ft,[e("div",bt,[(l(!0),a(F,null,k(q.value,([n,C])=>(l(),T(ee,{key:n,value:C,"field-name":n,"format-label":R=>h(R)},null,8,["value","field-name","format-label"]))),128))])])):$("",!0)]))),128))])):$("",!0),N.value.length>0?(l(),a("div",xt,[e("div",ht,[(l(!0),a(F,null,k(N.value,([t,r])=>(l(),a("div",{key:t,class:"flex items-center justify-start bg-blue-50 rounded-lg p-1 gap-1"},[e("div",vt,[e("i",{class:j(A(t,_(t)))},null,2)]),e("div",yt,[e("span",{class:"text-gray-800 font-medium text-sm truncate max-w-32",title:r||"Not provided"},g(r||"Not provided"),9,wt)])]))),128))])])):$("",!0),D.value.length>0?(l(),a("div",_t,[e("div",$t,[(l(!0),a(F,null,k(D.value,([t,r])=>(l(),a("div",{key:t,class:"flex flex-col items-center justify-between bg-green-50 rounded-lg p-1 border border-green-200"},[e("div",Ft,[e("span",{class:"text-sm font-medium text-gray-700 truncate max-w-24",title:h(t)},g(h(t)),9,kt)]),e("div",Ct,[e("span",Lt,g(o(r||0,t)),1)])]))),128))])])):$("",!0),V.value.length>0?(l(),a("div",jt,[e("div",St,[(l(!0),a(F,null,k(V.value,([t,r])=>(l(),a("div",{key:t,class:"flex-col items-center justify-between bg-gray-50 rounded-lg p-3"},[e("div",Ot,[e("div",It,[e("i",{class:j([E(J)(t,_(t)),"text-blue-500"])},null,2),e("span",{class:"text-sm font-medium text-gray-700",title:h(t)},g(h(t)),9,Nt)]),e("span",zt,g(o(r||0,t)),1)])]))),128))])])):$("",!0),z.value.length>0?(l(),a("div",At,[e("div",Dt,[(l(!0),a(F,null,k(z.value,([t,r])=>(l(),a("div",{key:t,class:"flex-col items-center justify-between bg-purple-50 rounded-lg p-3 border border-purple-200"},[e("div",Vt,[s[0]||(s[0]=e("i",{class:"pi pi-link text-purple-600"},null,-1)),e("span",{class:"text-sm font-medium text-gray-700",title:h(t)},g(h(t)),9,Bt)]),e("div",qt,[e("a",{href:r,target:"_blank",rel:"noopener noreferrer",class:"text-purple-600 hover:text-purple-800 underline",title:r},g(r||"No URL"),9,Mt)])]))),128))])])):$("",!0),e("div",Tt,[(l(!0),a(F,null,k(M.value,([t,r])=>(l(),a("div",{key:t,class:"space-y-1 pt-2 border-b border-gray-100 last:border-b-0"},[y(t)?(l(),a("div",Ut,[r?.emoji?(l(),a("span",Rt,g(r.emoji),1)):r?.icon?(l(),a("i",{key:1,class:j([r.icon,"mr-2 text-gray-500"])},null,2)):$("",!0),e("span",{class:"truncate max-w-32",title:h(t)},g(h(t)),9,Et)])):$("",!0),(l(),T(pe(P(t)),{value:i.item[t],"field-name":t,schema:i.schema},null,8,["value","field-name","schema"]))]))),128))]),e("div",Pt,[e("span",null,"Added: "+g(w(i.item.created_time)),1),i.item.last_edited_time!==i.item.created_time?(l(),a("span",Ht," • Updated: "+g(w(i.item.last_edited_time)),1)):$("",!0)])])])):$("",!0)}},Gt={class:"relative"},Jt={class:"relative z-10 bg-white rounded-lg overflow-hidden"},Wt={class:"overflow-x-auto"},Kt={class:"w-full"},Xt={class:"bg-gray-50 border-b border-gray-200"},Yt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky left-0 bg-gray-50 z-10"},Zt={class:"flex items-center space-x-2"},es={class:"flex items-center space-x-2"},ts={class:"flex items-center space-x-2"},ss={class:"flex items-center space-x-2"},rs={class:"bg-white divide-y divide-gray-200"},ls={class:"px-6 py-4 whitespace-nowrap sticky left-0 bg-white z-10"},is={class:"flex items-center space-x-3"},as={class:"text-sm font-medium text-gray-900"},ns={key:0,class:"flex flex-wrap gap-2 mt-1"},os={class:"text-xs text-gray-500 mt-1"},ds={class:"text-sm text-gray-600"},us={class:"text-sm"},cs={key:0,class:"flex items-center space-x-2"},ps={class:"text-gray-900 font-mono"},gs={key:1,class:"text-gray-900 font-mono"},ms={class:"flex flex-wrap gap-1"},fs={key:0,class:"text-sm text-gray-400"},bs={key:0,class:"text-sm"},xs={key:1,class:"text-sm text-gray-400"},hs={key:1,class:"text-sm"},vs=["href"],ys={key:1,class:"text-sm text-gray-400"},ws={key:2,class:"text-sm text-gray-900"},_s={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium sticky right-0 bg-white z-10"},$s={class:"flex gap-2 justify-end"},Fs={__name:"TableView",props:{items:{type:Array,default:()=>[]},schema:{type:Object,default:null}},emits:["deleteItem"],setup(i,{emit:d}){const c=X(),u=i,p=d,b=s=>{if(!u.schema?.properties||!s)return null;const t=Object.entries(u.schema.properties).find(([r,n])=>n.type==="title");return t?s[t[0]]:null},x=s=>{if(!u.schema?.properties||!s)return[];const t=[];return Object.entries(u.schema.properties).forEach(([r,n])=>{n.type==="checkbox"&&s[r]!==void 0&&t.push([r,s[r]||!1])}),t},f=s=>{const t=s.toLowerCase();return t.includes("email")?"pi pi-envelope":t.includes("phone")||t.includes("mobile")?"pi pi-phone":t.includes("linkedin")||t.includes("social")?"pi pi-linkedin":t.includes("website")||t.includes("url")?"pi pi-globe":t.includes("address")||t.includes("location")?"pi pi-map-marker":"pi pi-user"},N=(s,t)=>{const r=s.toLowerCase();return t.type==="url"?"pi pi-link":t.type==="date"?"pi pi-calendar":t.type==="select"?"pi pi-list":t.type==="rich_text"?"pi pi-file-edit":r.includes("bio")||r.includes("description")||r.includes("notes")?"pi pi-file-text":(r.includes("status"),"pi pi-info-circle")},q=s=>{if(!u.schema?.properties?.[s])return!1;const t=u.schema.properties[s];return t.type==="number"&&t.number?.format&&t.number.format!=="number"},D=s=>{const t=b(s);if(t&&typeof t=="string"){const n=t.trim().split(/\s+/);if(n.length>=2)return`${n[0][0]}${n[n.length-1][0]}`.toUpperCase();if(n.length===1)return n[0][0].toUpperCase()}const r=Object.values(s).find(n=>n&&typeof n=="string"&&n.trim().length>0);return r?r.trim()[0].toUpperCase():"?"},V=s=>{if(!u.schema?.properties)return null;const t=Object.entries(u.schema.properties).find(([r,n])=>n.type==="url"&&(r.toLowerCase().includes("image")||r.toLowerCase().includes("photo")||r.toLowerCase().includes("avatar")||r.toLowerCase().includes("picture")));if(t){const r=s[t[0]];if(r&&typeof r=="object"&&r.url)return r.url;if(typeof r=="string"&&r.trim())return r.trim()}return null},z=s=>W.formatLabel(s),M=(s,t)=>{if(typeof s!="number")return s;const r=u.schema?.properties?.[t];return r?ie(s,r):s.toLocaleString()},U=(s,t)=>typeof s=="object"&&s!==null?s.url?s.url:s.rich_text?s.rich_text.map(r=>r.plain_text).join(""):s.select?s.select.name:s.multi_select?s.multi_select.map(r=>r.name).join(", "):s.date?s.date.start:JSON.stringify(s):s||"N/A",P=s=>s?new Date(s).toLocaleDateString():"",y=(s,t)=>{const r={name:t,options:u.schema?.properties?.[t]?.options||[]};return Z(s,r,u.schema)},h=(s,t)=>{const r={name:t,options:u.schema?.properties?.[t]?.options||[]};return Z({value:s,label:s,name:s},r,u.schema)},o=(s,t)=>{if(!s)return"No selection";const n=(u.schema?.properties?.[t]?.options||[]).find(C=>C.value===s||C.name===s);return n&&(n.label||n.name)||s},v=s=>typeof s=="object"&&s!==null&&s.url||s,I=()=>{if(!u.schema?.properties)return null;const s=Object.entries(u.schema.properties).find(([t,r])=>r.type==="title");return s?z(s[0]):null},w=()=>u.schema?.properties?Object.entries(u.schema.properties).filter(([s,t])=>s.toLowerCase().includes("email")||s.toLowerCase().includes("phone")||s.toLowerCase().includes("contact")||t.type==="email"||t.type==="phone"):[],_=()=>u.schema?.properties?Object.entries(u.schema.properties).filter(([s,t])=>t.type==="number"):[],A=()=>u.schema?.properties?Object.entries(u.schema.properties).filter(([s,t])=>t.type==="multi_select"):[],S=()=>u.schema?.properties?Object.entries(u.schema.properties).filter(([s,t])=>!(t.type==="title"||t.type==="number"||t.type==="multi_select"||t.type==="checkbox"||s.toLowerCase().includes("email")||s.toLowerCase().includes("phone")||s.toLowerCase().includes("contact"))):[],Y=s=>{c.push(`/edit/${s.id}`)},m=s=>{p("deleteItem",s.id)};return(s,t)=>(l(),a("div",Gt,[t[4]||(t[4]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("div",Jt,[t[3]||(t[3]=e("div",{class:"bg-gray-50 px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"All Items")],-1)),e("div",Wt,[e("table",Kt,[e("thead",Xt,[e("tr",null,[e("th",Yt,g(I()||"Item"),1),(l(!0),a(F,null,k(w(),([r,n])=>(l(),a("th",{key:r,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("div",Zt,[e("i",{class:j([f(r),"text-blue-500"])},null,2),e("span",null,g(z(r)),1)])]))),128)),(l(!0),a(F,null,k(_(),([r,n])=>(l(),a("th",{key:r,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("div",es,[e("i",{class:j([E(J)(r),"text-green-500"])},null,2),e("span",null,g(z(r)),1)])]))),128)),(l(!0),a(F,null,k(A(),([r,n])=>(l(),a("th",{key:r,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-48"},[e("div",ts,[t[0]||(t[0]=e("i",{class:"pi pi-tags text-purple-500"},null,-1)),e("span",null,g(z(r)),1)])]))),128)),(l(!0),a(F,null,k(S(),([r,n])=>(l(),a("th",{key:r,class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("div",ss,[e("i",{class:j([N(r,n),"text-gray-500"])},null,2),e("span",null,g(z(r)),1)])]))),128)),t[1]||(t[1]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky right-0 bg-gray-50 z-10"}," Actions ",-1))])]),e("tbody",rs,[(l(!0),a(F,null,k(i.items,r=>(l(),a("tr",{key:r.id,class:"hover:bg-gray-50"},[e("td",ls,[e("div",is,[O(E(ae),{label:D(r),image:V(r),size:"medium",shape:"circle",class:"border-2 border-gray-200 shadow-sm bg-gray-100"},null,8,["label","image"]),e("div",null,[e("div",as,g(b(r)||"Untitled"),1),x(r).length>0?(l(),a("div",ns,[(l(!0),a(F,null,k(x(r),([n,C])=>(l(),T(ee,{key:n,value:C,"field-name":n,"format-label":z},null,8,["value","field-name"]))),128))])):$("",!0),e("div",os,g(P(r.created_time)),1)])])]),(l(!0),a(F,null,k(w(),([n,C])=>(l(),a("td",{key:n,class:"px-6 py-4"},[e("div",ds,g(r[n]||"Not provided"),1)]))),128)),(l(!0),a(F,null,k(_(),([n,C])=>(l(),a("td",{key:n,class:"px-6 py-4"},[e("div",us,[q(n)?(l(),a("span",cs,[e("i",{class:j([E(J)(n),"text-green-500"])},null,2),e("span",ps,g(M(r[n]||0,n)),1)])):(l(),a("span",gs,g(M(r[n]||0,n)),1))])]))),128)),(l(!0),a(F,null,k(A(),([n,C])=>(l(),a("td",{key:n,class:"px-6 py-4 min-w-48"},[e("div",ms,[(l(!0),a(F,null,k(r[n]||[],R=>(l(),a("span",{key:R.name||R,class:j([y(R,n),"px-2 py-1 text-xs rounded-full border font-medium"])},g(R.name||R),3))),128)),!r[n]||r[n].length===0?(l(),a("span",fs," No tags ")):$("",!0)])]))),128)),(l(!0),a(F,null,k(S(),([n,C])=>(l(),a("td",{key:n,class:"px-6 py-4"},[C.type==="select"?(l(),a("div",bs,[r[n]?(l(),a("span",{key:0,class:j([h(r[n],n),"px-2 py-1 text-xs rounded-full border font-medium"])},g(o(r[n],n)),3)):(l(),a("span",xs,"No selection"))])):C.type==="url"?(l(),a("div",hs,[r[n]?(l(),a("a",{key:0,href:v(r[n]),target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 hover:text-blue-800 underline flex items-center space-x-1"},[t[2]||(t[2]=e("i",{class:"pi pi-external-link text-xs"},null,-1)),e("span",null,g(v(r[n])),1)],8,vs)):(l(),a("span",ys,"No URL"))])):(l(),a("div",ws,g(U(r[n])),1))]))),128)),e("td",_s,[e("div",$s,[O(K,{icon:"pi pi-pencil",severity:"success",size:"small",onClick:n=>Y(r)},null,8,["onClick"]),O(K,{icon:"pi pi-trash",severity:"danger",size:"small",onClick:n=>m(r)},null,8,["onClick"])])])]))),128))])])])])]))}},ks={class:"bg-white hover:shadow-lg transition-shadow p-4 border-2 border-black rounded-lg shadow-lg flex flex-col h-full"},Cs={class:"text-center py-16 flex-1 flex flex-col items-center justify-center"},Ls={__name:"EmptyState",emits:["add-item"],setup(i){return(d,c)=>{const u=G;return l(),a("div",ks,[e("div",Cs,[c[2]||(c[2]=e("div",{class:"text-6xl mb-4"},"📋",-1)),c[3]||(c[3]=e("h3",{class:"text-2xl font-semibold text-gray-900 mb-2"},"No items yet",-1)),c[4]||(c[4]=e("p",{class:"text-gray-600 mb-6 text-center max-w-md"},"Start building your collection by adding your first item to get started.",-1)),O(u,{onClick:c[0]||(c[0]=p=>d.$emit("add-item")),severity:"primary"},{default:Q(()=>c[1]||(c[1]=[e("i",{class:"pi pi-plus mr-2"},null,-1),H("Add First Item ",-1)])),_:1,__:[1]})])])}}},js={class:"flex gap-4 items-center mb-6"},Ss={__name:"SearchFilterSkeleton",setup(i){return(d,c)=>(l(),a("div",js,c[0]||(c[0]=[ge('<div class="relative flex-1"><div class="absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg" style="filter:drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1));"><div class="bg-white rounded-lg h-full w-full"></div></div><div class="relative z-10"><div class="relative"><div class="h-10 bg-gray-200 rounded-lg animate-pulse"></div><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><div class="w-4 h-4 bg-gray-300 rounded animate-pulse"></div></div></div></div></div><div class="flex-shrink-0 flex gap-2"><div class="relative"><div class="absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg" style="filter:drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1));"><div class="bg-white rounded-lg h-full w-full"></div></div><div class="relative z-10 px-3 py-2.5 rounded-lg flex items-center gap-2"><div class="w-4 h-4 bg-gray-300 rounded animate-pulse"></div><div class="h-4 bg-gray-300 rounded animate-pulse" style="width:60px;"></div></div></div><div class="relative"><div class="absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg" style="filter:drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1));"><div class="bg-white rounded-lg h-full w-full"></div></div><div class="relative z-10 px-3 py-2.5 rounded-lg flex items-center gap-2"><div class="w-4 h-4 bg-gray-300 rounded animate-pulse"></div><div class="h-4 bg-gray-300 rounded animate-pulse" style="width:70px;"></div></div></div></div><div class="flex-shrink-0"><div class="relative"><div class="absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg" style="filter:drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1));"><div class="bg-gray-100 rounded-lg h-full w-full"></div></div><div class="relative z-10 flex bg-gray-100 rounded-lg p-1"><div class="px-3 py-2 rounded-md flex items-center gap-2"><div class="w-4 h-4 bg-gray-300 rounded animate-pulse"></div><div class="h-4 bg-gray-300 rounded animate-pulse" style="width:50px;"></div></div><div class="px-3 py-2 rounded-md flex items-center gap-2"><div class="w-4 h-4 bg-gray-300 rounded animate-pulse"></div><div class="h-4 bg-gray-300 rounded animate-pulse" style="width:60px;"></div></div></div></div></div>',3)])))}},Os={class:"space-y-6"},Is={key:0},Ns={key:1,class:"space-y-6"},zs={class:"flex flex-col gap-4 lg:hidden"},As={class:"relative w-full"},Ds={class:"relative z-10"},Vs={class:"relative"},Bs={class:"flex gap-2 items-center"},qs={class:"flex gap-2 flex-1"},Ms={class:"relative flex-1"},Ts={class:"hidden sm:inline"},Us={class:"relative flex-1"},Rs={class:"hidden sm:inline"},Es={class:"flex-shrink-0"},Ps={class:"relative"},Hs={class:"relative z-10 flex bg-gray-100 rounded-lg p-1"},Qs={class:"hidden lg:flex gap-4 items-center"},Gs={class:"relative flex-1"},Js={class:"relative z-10"},Ws={class:"relative"},Ks={class:"flex-shrink-0 flex gap-2"},Xs={class:"relative"},Ys={class:"relative"},Zs={class:"flex-shrink-0"},er={class:"relative"},tr={class:"relative z-10 flex bg-gray-100 rounded-lg p-1"},sr={key:0},rr={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},lr={__name:"ListView",props:{loading:{type:Boolean,default:!1},loadingMore:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},schema:{type:Object,default:null},hasMore:{type:Boolean,default:!1}},emits:["deleteItem","loadMore"],setup(i,{emit:d}){const c=X(),u=B("card"),p=B(""),b=B(!1),x=B(!1);B("Verified"),B("Available");const f=i,N=d,q=L(()=>(f.items.length===0||!f.schema)&&!f.loading),D=L(()=>{if(f.items.length===0)return{verified:"Verified",available:"Available"};const h=Object.entries(f.items[0]).filter(([_,A])=>typeof A=="boolean");let o="Verified",v="Available";const I=h.find(([_,A])=>{const S=_.toLowerCase();return S.includes("verified")||S.includes("verify")});I&&(o=W.formatLabel(I[0]));const w=h.find(([_,A])=>{const S=_.toLowerCase();return S.includes("available")||S.includes("hire")||S.includes("hiring")});return w&&(v=W.formatLabel(w[0])),{verified:o,available:v}}),V=L(()=>{let h=f.items;if(f.items.length>0&&(b.value||x.value)&&(console.log("Available fields:",Object.keys(f.items[0])),console.log("Boolean fields:",Object.entries(f.items[0]).filter(([v,I])=>typeof I=="boolean"))),(b.value||x.value)&&(h=h.filter(v=>{if(b.value&&x.value){const I=Object.entries(v).some(([_,A])=>{if(typeof A!="boolean")return!1;const S=_.toLowerCase();return(S.includes("verified")||S.includes("verify"))&&A===!0}),w=Object.entries(v).some(([_,A])=>{if(typeof A!="boolean")return!1;const S=_.toLowerCase();return(S.includes("available")||S.includes("hire")||S.includes("hiring"))&&A===!0});return I&&w}return b.value?Object.entries(v).some(([I,w])=>{if(typeof w!="boolean")return!1;const _=I.toLowerCase();return(_.includes("verified")||_.includes("verify"))&&w===!0}):x.value?Object.entries(v).some(([I,w])=>{if(typeof w!="boolean")return!1;const _=I.toLowerCase();return(_.includes("available")||_.includes("hire")||_.includes("hiring"))&&w===!0}):!0})),!p.value.trim())return h;const o=p.value.toLowerCase().trim();return h.filter(v=>Object.entries(v).some(([I,w])=>w==null?!1:typeof w=="string"?w.toLowerCase().includes(o):Array.isArray(w)?w.some(_=>typeof _=="string"?_.toLowerCase().includes(o):_.name&&_.name.toLowerCase().includes(o)):typeof w=="object"&&w.name?w.name.toLowerCase().includes(o):typeof w=="number"?w.toString().includes(o):!1))}),z=()=>{p.value=""},M=()=>{b.value=!b.value},U=()=>{x.value=!x.value},P=()=>{c.push("/add")},y=h=>{N("deleteItem",h)};return(h,o)=>(l(),a("div",Os,[i.loading||!i.schema||i.items.length===0?(l(),a("div",Is,[O(Ss),O(te,{count:6,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"})])):i.schema&&i.items.length>0?(l(),a("div",Ns,[e("div",zs,[e("div",As,[o[8]||(o[8]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("div",Ds,[e("div",Vs,[se(e("input",{"onUpdate:modelValue":o[0]||(o[0]=v=>p.value=v),type:"text",placeholder:"Search items...",class:"w-full pl-10 pr-4 py-2.5 bg-white border-0 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-0"},null,512),[[re,p.value]]),o[7]||(o[7]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("i",{class:"pi pi-search text-gray-400"})],-1)),p.value?(l(),a("button",{key:0,onClick:z,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},o[6]||(o[6]=[e("i",{class:"pi pi-times"},null,-1)]))):$("",!0)])])]),e("div",Bs,[e("div",qs,[e("div",Ms,[o[11]||(o[11]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("button",{onClick:M,class:j(["relative z-10 w-full px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2",b.value?"bg-green-100 text-green-800 border border-green-300":"bg-white text-gray-600 hover:text-gray-800"])},[o[9]||(o[9]=e("i",{class:"pi pi-check-circle"},null,-1)),e("span",Ts,g(D.value.verified),1),o[10]||(o[10]=e("span",{class:"sm:hidden"},"✓",-1))],2)]),e("div",Us,[o[14]||(o[14]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("button",{onClick:U,class:j(["relative z-10 w-full px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2",x.value?"bg-blue-100 text-blue-800 border border-blue-300":"bg-white text-gray-600 hover:text-gray-800"])},[o[12]||(o[12]=e("i",{class:"pi pi-user-check"},null,-1)),e("span",Rs,g(D.value.available),1),o[13]||(o[13]=e("span",{class:"sm:hidden"},"👤",-1))],2)])]),e("div",Es,[e("div",Ps,[o[17]||(o[17]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-gray-100 rounded-lg h-full w-full"})],-1)),e("div",Hs,[e("button",{onClick:o[1]||(o[1]=v=>u.value="card"),class:j(["px-2 sm:px-3 py-2 rounded-md text-sm font-medium transition-all duration-200",u.value==="card"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"])},o[15]||(o[15]=[e("i",{class:"pi pi-th-large sm:mr-2"},null,-1),e("span",{class:"hidden sm:inline"},"Card",-1)]),2),e("button",{onClick:o[2]||(o[2]=v=>u.value="table"),class:j(["px-2 sm:px-3 py-2 rounded-md text-sm font-medium transition-all duration-200",u.value==="table"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"])},o[16]||(o[16]=[e("i",{class:"pi pi-table sm:mr-2"},null,-1),e("span",{class:"hidden sm:inline"},"Table",-1)]),2)])])])])]),e("div",Qs,[e("div",Gs,[o[20]||(o[20]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("div",Js,[e("div",Ws,[se(e("input",{"onUpdate:modelValue":o[3]||(o[3]=v=>p.value=v),type:"text",placeholder:"Search items...",class:"w-full pl-10 pr-4 py-2.5 bg-white border-0 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-0"},null,512),[[re,p.value]]),o[19]||(o[19]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("i",{class:"pi pi-search text-gray-400"})],-1)),p.value?(l(),a("button",{key:0,onClick:z,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},o[18]||(o[18]=[e("i",{class:"pi pi-times"},null,-1)]))):$("",!0)])])]),e("div",Ks,[e("div",Xs,[o[22]||(o[22]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("button",{onClick:M,class:j(["relative z-10 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2",b.value?"bg-green-100 text-green-800 border border-green-300":"bg-white text-gray-600 hover:text-gray-800"])},[o[21]||(o[21]=e("i",{class:"pi pi-check-circle"},null,-1)),e("span",null,g(D.value.verified),1)],2)]),e("div",Ys,[o[24]||(o[24]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-white rounded-lg h-full w-full"})],-1)),e("button",{onClick:U,class:j(["relative z-10 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2",x.value?"bg-blue-100 text-blue-800 border border-blue-300":"bg-white text-gray-600 hover:text-gray-800"])},[o[23]||(o[23]=e("i",{class:"pi pi-user-check"},null,-1)),e("span",null,g(D.value.available),1)],2)])]),e("div",Zs,[e("div",er,[o[27]||(o[27]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg p-0.5 shadow-lg",style:{filter:"drop-shadow(0 10px 25px rgba(0, 144, 247, 0.3)) drop-shadow(0 4px 6px rgba(186, 98, 252, 0.2)) drop-shadow(0 1px 3px rgba(242, 65, 107, 0.2)) drop-shadow(0 0 0 rgba(245, 86, 0, 0.1))"}},[e("div",{class:"bg-gray-100 rounded-lg h-full w-full"})],-1)),e("div",tr,[e("button",{onClick:o[4]||(o[4]=v=>u.value="card"),class:j(["px-3 py-2 rounded-md text-sm font-medium transition-all duration-200",u.value==="card"?"bg-white text-white shadow-sm bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg":"text-gray-500 hover:text-gray-700"])},o[25]||(o[25]=[e("i",{class:"pi pi-th-large mr-2"},null,-1),H(" Card View ",-1)]),2),e("button",{onClick:o[5]||(o[5]=v=>u.value="table"),class:j(["px-3 py-2 rounded-md text-sm font-medium transition-all duration-200",u.value==="table"?"bg-white text-white shadow-sm bg-gradient-to-r from-blue-500 via-purple-500 via-pink-500 to-orange-500 rounded-lg":"text-gray-500 hover:text-gray-700"])},o[26]||(o[26]=[e("i",{class:"pi pi-table mr-2"},null,-1),H(" Table View ",-1)]),2)])])])]),u.value==="card"?(l(),a("div",sr,[e("div",rr,[(l(!0),a(F,null,k(V.value,v=>(l(),T(Qt,{key:v.id,item:v,schema:i.schema,onDeleteItem:y},null,8,["item","schema"]))),128)),i.loadingMore?(l(),T(te,{key:0,count:3,class:"contents"})):$("",!0)])])):u.value==="table"?(l(),T(Fs,{key:1,items:V.value,schema:i.schema,onDeleteItem:y},null,8,["items","schema"])):$("",!0)])):q.value?(l(),T(Ls,{key:2,onAddItem:P})):$("",!0),i.hasMore&&!i.loading?(l(),T(Se,{key:3,loading:i.loadingMore,onLoadMore:h.loadMore},null,8,["loading","onLoadMore"])):$("",!0)]))}},ir={class:"home-view"},ar={class:"space-y-8"},nr={__name:"HomeView",setup(i){const d=de(),c=L(()=>d.loading),u=L(()=>d.error),p=L(()=>d.items),b=L(()=>{if(!d.schema?.properties)return null;const h=d.getDatabaseInfo()?.schema?.properties||{};return{...d.schema,properties:Object.fromEntries(Object.entries(d.schema.properties).map(([o,v])=>[o,{...v,type:v.type,required:v.required||!1,emoji:v.emoji||null,icon:v.icon||null,number:v.number||null,select:v.select||null,multi_select:v.multi_select||null,...h[o]&&{number:{...v.number,format:h[o].number?.format||v.number?.format}}}]))}}),x=B(!1),f=B(""),N=B(""),q=B(!1),D=async()=>{try{const[y,h]=await Promise.allSettled([d.ensureSchemaLoaded(),d.fetchAllItems()]);y.status==="rejected"&&console.error("Schema loading failed:",y.reason),h.status==="rejected"&&console.error("Items loading failed:",h.reason),y.status==="fulfilled"&&h.status==="fulfilled"&&V()}catch(y){console.error("Failed to initialize:",y)}},V=()=>{const y=d.getDatabaseInfo();y&&(y.title&&(f.value=y.title),y.description&&(N.value=y.description))},z=async()=>{try{const[y,h]=await Promise.allSettled([d.fetchSchema(!0),d.fetchAllItems()]);y.status==="fulfilled"&&h.status==="fulfilled"?V():(console.error("Schema refresh failed:",y.status==="rejected"?y.reason:"Unknown error"),console.error("Items refresh failed:",h.status==="rejected"?h.reason:"Unknown error"))}catch(y){console.error("Failed to refresh schema:",y)}},M=async()=>{if(!(!q.value||x.value))try{x.value=!0}catch(y){console.error("Failed to load more:",y)}finally{x.value=!1}},U=async()=>{await D()},P=async y=>{try{await d.deleteItem(y),await d.fetchAllItems()}catch(h){console.error("Failed to delete item:",h)}};return me(()=>{D()}),(y,h)=>(l(),a("div",ir,[e("div",ar,[O(we,{loading:c.value,"database-title":f.value,"database-description":N.value,onRefreshSchema:z},null,8,["loading","database-title","database-description"]),O(ke,{error:u.value,onRetry:U},null,8,["error"]),O(lr,{loading:c.value,"loading-more":x.value,items:p.value,schema:b.value,"has-more":q.value,onDeleteItem:P,onLoadMore:M},null,8,["loading","loading-more","items","schema","has-more"])])]))}},cr=oe(nr,[["__scopeId","data-v-5925e735"]]);export{cr as default};
